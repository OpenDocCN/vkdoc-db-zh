# 七、附录 A：附加提示和技巧

在本书中，我们介绍了 Navicat 中一些最有用和最常见的任务，但并不是它提供的所有功能。本附录旨在为您提供有关使用 Navicat 一些不太明显的功能的其他提示和技巧，例如：

*   将设置复制到其他 Navicat 用户或计算机
*   监视 MySQL 服务器并干预正在运行的进程
*   搜索数据库并发现设计查询的新方法

# 将您的设置从一台计算机传输到另一台计算机

如果您使用多台计算机（每台计算机都有一份 Navicat），您可能希望在所有使用的计算机上复制设置、连接配置文件、自定义查询、数据模型图表，甚至批处理作业。即使不是这样，您也可以使用此处的提示备份 Navicat 设置，以便在以后重置计算机时恢复数据。

## 在 Mac 上传输设置

Navicat 中的所有设置、连接配置文件、保存的查询和模型都存储在 Mac 上的两个文件夹中，它们位于`/Users/<user_name>/Library/Application Support/`中。您可以从**首选项**窗口自定义**数据模型路径**（只需从**Apple**菜单旁边的应用程序菜单中选择**首选项……**，然后进入打开窗口中的**文件路径**选项卡。`Application Support`下的一个文件夹名为`PremiumSoft CyberTech`，另一个文件夹名为`Navicat Premium`或`Navicat for MySQL`，具体取决于您使用的版本和版本。

在 Finder 中，选择**转到****转到文件夹。。。从菜单栏**（或同时按下**+**和**G**键）并键入`/Users/<user_name>/Library/Application``Support/`，然后按下**Go**按钮即可到达。最后，将这两个文件夹复制到目标计算机或用户上的同一文件夹层次结构中。

这将把您的所有设置、连接配置文件和保存的模型关系图复制到目标计算机。在传输过程中，目标机器或用户不应运行 Navicat。请参阅以下屏幕截图：

![Transferring settings on the Mac](img/7461EN_A_01.jpg)

## 在 Windows 上传输设置

某些用户数据（如查询和数据模型图）以及 Navicat 的报告（Windows 版本除外）默认存储在用户的`Documents`文件夹中的`Navicat`目录中。其他设置和连接配置文件存储在 Windows 版本的注册表中。

您可以通过**文件****导出连接来导出连接设置。。。**在 Navicat 的主菜单栏中，或右键单击左窗格中的连接定义（数据库服务器名称），然后选择相同的菜单项。然后在目标系统（或用户帐户）上，您可以重复相同的步骤，除了选择**导入连接。。。**这一次，通过**打开文件**对话框指定先前导出的文件（及其路径）。

在 Windows 7 中，用户文档文件夹的完整路径名类似于`C:\Users\<user_name>\Documents\Navicat`。

但是，可以通过进入**工具****选项****杂项**自定义默认目录（和路径）。

只需将整个`Navicat`文件夹复制到目标用户的`Documents`文件夹，即可将查询和数据模型图传输到另一台 Windows PC。执行此传输时，确保 Navicat 未在目标机器上运行。请参阅以下屏幕截图：

![Transferring settings on Windows](img/7461EN_A_02.jpg)

# 监控 MySQL 服务器

使用 Navicat，您可以监视数据库服务器以查看正在运行的进程、服务器的当前状态以及数据库的属性，例如变量。可以在一个单独的引擎盖下视图中实时获取所有服务器的此信息。

**服务器监视器**可直接从 Navicat 主菜单栏中的**工具**菜单访问，在 Windows 版本中有三个按选项卡分类的主视图，在 Mac 版本中有三个按主工具栏按钮分类的主视图。请参阅以下屏幕截图：

![Monitoring the MySQL Server](img/7461EN_A_03.jpg)

## 工艺清单

在这里，您可以看到所有服务器上正在运行的进程或任务，这些进程或任务在窗口右侧窗格的复选框列表中被选中。您在此屏幕上获得的信息如下所示：

*   在连接设置中定义的服务器名称
*   服务器上运行的进程的**ID**
*   **登录服务器的用户**
*   **主机**或用户连接的 IP
*   当前正在使用的数据库的名称
*   用户发出的最后一个**命令**
*   流程的**时间**、**状态**、**信息**

只需点击列表中的某个进程，使其高亮显示并点击**结束进程**按钮，即可强制结束进程。

您还会注意到工具栏上的其他按钮，它们为您提供了自动或手动刷新视图的选项。一个不太明显的技巧是，在自动刷新的情况下，您可以通过选择**设置刷新率，将**1**秒默认值的间隔更改为您喜欢的任何。。。从**编辑**菜单中选择**。

## 变量

在此选项卡下，您可以获取所有服务器变量，如**字符集\服务器**和**日期\格式**，以及按字母顺序列出的这些变量的设置值。此信息通常通过在 MySQL 服务器控制台中执行**SHOW VARIABLES**命令获取。

只需选择一行并单击包含变量值的单元格右端的方形按钮，即可动态更改值。（适用于真正了解自己在做什么的高级用户的功能。）

## 状态

**状态**选项卡列出了通过发出**显示状态**命令从 MySQL 服务器检索的相同标准信息。

这会输出一些高级用户和 DBA 可以理解的长的只读信息。

# 显示 Navicat 隐藏的搜索功能

可以使用 Navicat 查找一个或多个符合特定条件的数据库表记录。从 Navicat 主窗口的左侧窗格中选择数据库或模式并右键单击后，您将看到**在数据库中查找。。。打开弹出菜单项中的**命令。发出此命令将显示一个弹出窗口，允许您输入搜索字符串和匹配条件（例如**精确**或**包含**，甚至计算**正则表达式**）。

例如，选择我们在[第 2 章](2.html "Chapter 2. Working with Databases")中创建的**我们的【第一个】数据库**，*使用数据库*，然后右键单击它并选择**在数据库中查找。。。**。然后在搜索框中输入`manager`，将匹配条件保留为**包含**，点击**查找**按钮。

搜索应产生 12 个匹配项，结果应汇总在搜索框下方。此功能的酷之处在于，当您双击其中一个结果时，将打开一个新的查询窗口，其中包含从搜索条件转换而来的生成的 SQL 查询，该查询自动执行一次，结果显示在其下方。请参阅以下屏幕截图：

![Revealing a hidden search feature of Navicat](img/7461EN_A_04.jpg)

# 总结

本附录为我们提供了一些额外的提示和技巧，例如如何备份或传输 Navicat 设置。另外？我们已经揭示了 Navicat 的一些隐藏特性（例如**服务器监视器**，它不仅为我们提供了运行进程的详细信息，例如客户端用户信息和连接用户运行的命令类型，还提供了手动终止进程的完全控制。我们还了解了如何使用这个强大的工具获取其他详细信息，例如服务器变量和服务器状态。

最后，我们看到了一个搜索功能，它使我们能够从包含搜索字符串的任何表中检索特定记录，并自动生成 SQL 查询，该查询可以在以后重复使用，以执行与标准 Navicat 查询相同的搜索。