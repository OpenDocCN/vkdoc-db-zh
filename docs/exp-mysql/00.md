# 零、简介

MySQL 被认为是世界上最流行的开源数据库，也是业内发展最快的数据库系统。本书介绍了高级数据库系统的一些主题，研究了 MySQL 的体系结构，并提供了一个专家工作簿，用于检查、集成和修改企业环境中使用的 MySQL 源代码。这本书深入探讨了如何修改 MySQL 系统，以满足系统集成商和教育者的独特需求。

这本书是给谁的

我写这本书时考虑到了各种各样的读者。无论您已经从事数据库系统工作多年，或者可能已经上过数据库理论入门课，或者刚刚读过一本关于 MySQL 的好书，您都会从这本书中学到很多。最棒的是，你甚至可以接触到源代码。如果你曾经想知道是什么让像 MySQL 这样的数据库系统运行，这就是你的书！

这本书的结构

介绍的材料分为三个部分，后面有一个附录。每一部分都旨在呈现一系列主题，从 MySQL 和开源革命的介绍材料到 MySQL 系统的扩展和定制。甚至还介绍了如何构建一个实验性的查询优化器和执行引擎，作为 MySQL 查询引擎的替代。

第一部分

这本书的第一部分介绍了开发和修改开源系统的概念。[第一部分](pt1.html)提供了开始探索本书其余部分中介绍的更高级的数据库概念所必需的工具和资源。章节包括:

1.  MySQL 和开源革命——这一章比本书的其余部分更少技术含量，包含更多叙述。它指导您了解开源系统集成商的好处和责任。它强调了 MySQL 的快速增长及其在开源和数据库系统市场的重要性。此外，它为开源革命提供了一个清晰的视角。
2.  数据库系统的剖析——本章涵盖了什么是数据库系统以及如何构建数据库系统的基础知识。MySQL 系统的剖析被用来说明现代关系数据库系统的关键组件。
3.  MySQL 源代码之旅——本章介绍了 MySQL 源代码的完整介绍，以及如何获得和构建该系统。向您介绍了源代码的机制，以及代码维护的编码指南和最佳实践。
4.  测试驱动的 MySQL 开发——本章介绍了为 MySQL 系统生成高质量扩展的一个关键要素。软件测试与如何测试大型系统的通用实践一起被提出。具体的例子被用来说明测试 MySQL 系统的可接受的实践。

第二部分

本书的这一部分提供了工具，使用动手的方法来研究 MySQL 系统。它向您介绍如何修改 MySQL 代码，以及如何将该系统用作嵌入式数据库系统。示例和项目说明了如何调试源代码，如何修改 SQL 命令以扩展语言，以及如何构建自定义存储引擎。

*   5.调试——本章为您提供调试技巧和技术，帮助您简化开发，减少失败。介绍了几种调试技术，以及每种技术的优缺点。
*   6.嵌入式 MySQL——本章将向您介绍如何在企业应用中嵌入 MySQL 系统的教程。示例项目帮助您将所展示的技能应用到您自己的集成需求中。
*   7.向 MySQL 添加函数和命令——本章介绍了对 MySQL 代码最流行的修改。向您展示了如何修改 SQL 命令以及如何构建定制的 SQL 命令。它展示了如何修改 SQL 命令以添加新参数、函数和新命令的示例。
*   8.扩展 MySQL 高可用性—本章概述了 MySQL 的高可用性特性，包括复制源代码和如何扩展该特性以满足高可用性需求的示例。
*   9.开发 MySQL 插件——本章介绍了 MySQL 中的可插拔架构。您将发现如何构建插件，并看到一个身份验证插件的详细示例。
*   10.构建您自己的存储引擎—本章演示了可插拔存储引擎的特性。我们将使用示例和项目来探究该架构，这些示例和项目允许您构建一个示例存储引擎。

第三部分

本书的这一部分对 MySQL 系统进行了更深入的研究，并从内部人士的角度向您展示了该系统的工作原理。本节首先介绍更高级的数据库技术。理论和实践以一种严肃的方式呈现，使您能够应用所获得的知识来处理数据库系统的更复杂的主题。本节还提供了如何实现内部查询表示、替代查询优化器和替代查询执行机制的示例。详细讨论了示例和项目。第 12 章到 [14 章](14.html)提供了改变 MySQL 系统内部结构以使用替代机制执行所需的技能和技术。这些章节为你提供了如何构建和修改大型系统的独特见解。

*   11.hapter 旨在通过研究 MySQL 架构来展示更高级的数据库技术。主题包括查询执行、多用户问题和编程考虑。
*   12.内部查询表示——本章介绍 MySQL 内部查询表示。为您提供了一个替代查询表示的示例。还讨论了如何修改 MySQL 源代码来实现另一种查询表示。
*   13.查询优化——本章介绍 MySQL 内部查询优化器。我们为您提供了一个备选查询优化器示例，它使用了上一章中的备选查询表示。它讨论了如何修改 MySQL 源代码来实现替代的查询优化器。
*   14.查询执行——本章结合了前几章的技术，为您提供了如何修改 MySQL 系统以实现替代查询处理引擎技术的指导。

附录

本书的这一部分提供了一个关于 MySQL、数据库系统和开源软件的资源列表。

使用这本书来教授数据库系统的内部知识

许多优秀的数据库教科书提供了关系理论和实践的覆盖面。然而，很少有人提供适用于教室或实验室环境的材料。可供学生探索数据库系统内部工作的资源甚至更少。这本书为教师提供了一个通过动手实验来扩充数据库课程的机会。该文本可以在课堂环境中以三种方式使用:

1.  该文本可用于增加本科生或研究生数据库入门课程的深度。[第 1 部分](pt1.html)和[第 2 部分](pt2.html)可用于提供数据库系统中特殊主题的深入报道。建议的讲座主题包括在[第 2 章](02.html)、[第 3 章](03.html)、[第 4 章](04.html)和[第 6 章](06.html)中提出的主题。除了更传统的数据库理论或系统文本之外，还可以使用这些。动手练习或课堂项目可从[第 6 章](06.html)和[第 7 章](07.html)中抽取。
2.  本科或研究生的高级数据库课程可以基于[part 1](pt1.html)和[2](pt2.html)；每章可以在 8 到 12 周内完成。讲座的其余部分可以讨论物理存储层的实施和存储引擎的概念。学期项目可以基于[第 10 章](10.html)，让学生构建自己的存储引擎。
3.  为高年级本科生或研究生开设的关于数据库系统内部的专题课程可以基于整篇课文，授课基于前 11 章。学期专题可以从课文的第三部分衍生而来，学生实现数据库实验平台的其余功能。这些特性包括语言理论、查询优化器和查询执行算法的应用。

约定

在整本书中，我保持了一致的风格来呈现 SQL 和结果。当文本中出现一段代码、一个 SQL 保留字或一段 SQL 时，它会以固定宽度的 Courier 字体显示，例如:

select * from dual

在讨论 SQL 命令的语法和选项时，我使用了对话式的风格，这样您可以快速理解命令或技术。这意味着我没有复制更适合参考手册的大型语法图。

下载代码

本书中给出的例子的代码可以在 press 网站[www.apress.com](http://www.apress.com)上找到。在该书的信息页面上的源代码/下载选项卡下可以找到一个链接。该选项卡位于页面相关标题部分的下方。

联系作者

如果你有任何问题或意见——甚至是你认为我应该知道的错误——你可以打电话到[drcharlesbell@gmail.com](http://drcharlesbell@gmail.com)联系我。